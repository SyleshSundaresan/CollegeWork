<!DOCTYPE html>
<html>
<head>
    <title>External Code Prettifier</title>
    <!-- Load the Prettify Auto-Loader -->
    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <style>
        pre.prettyprint {
            padding: 10px !important;
            border: 2px solid black !important;
            background: #f9f9f9 !important;
            border-radius: 5px !important;
            width: 90% !important;
        }
        .container {
            width: 100%;
            display: flex;
            flex-warp: no-warp;
            flex-direction: row;
            justify-content: space-evenly;
        }
    </style>
</head>
<body>

    <h3>Loaded External Code:</h3>

    <div class="container">
        <pre id="code-container" class="prettyprint linenums lang-cpp"></pre>
    </div>
    
    <script>
        async function loadExternalCode(fileUrl) {
            try {
                const response = await fetch(fileUrl);
                let code = await response.text();

                // 1. Escape HTML characters so code displays as raw text
                const escapedCode = code
                    .replace(/&/g, "&amp;")
                    .replace(/</g, "&lt;")
                    .replace(/>/g, "&gt;");

                // 2. Inject into the pre tag
                const container = document.getElementById('code-container');
                container.innerHTML = escapedCode;

                // 3. Re-run Prettify to highlight the new content
                if (typeof PR !== 'undefined') {
                    PR.prettyPrint();
                }
            } catch (err) {
                console.error('Failed to load file:', err);
            }
        }

        // Call the function with your file path
        loadExternalCode('usacoFiles/Problem_1_USACO_Gold.cpp');
    </script>

</body>
</html>
